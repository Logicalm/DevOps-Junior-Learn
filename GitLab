## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `.gitlab-ci.yml`

```yaml
stages:
  - build
  - test
  - deploy

variables:
  GLOBAL_VAR: "value"

build-job:
  stage: build
  script:
    - echo "Building project..."
````

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:

1. **`stages`**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á (–¥–∂–æ–±–æ–≤).
2. **`variables`**: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–æ –≤—Å–µ—Ö –¥–∂–æ–±–∞—Ö.
3. **`script`**: –ö–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –¥–∂–æ–±–µ.
4. **`image`**: –£–∫–∞–∑—ã–≤–∞–µ—Ç Docker-–æ–±—Ä–∞–∑, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∂–æ–±–∞.
5. **`services`**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `docker:dind` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Docker).
### 5. **Dependencies**

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –æ—Ç –∫–∞–∫–∏—Ö –¥–∂–æ–±–æ–≤ –∑–∞–≤–∏—Å–∏—Ç —Ç–µ–∫—É—â–∏–π –¥–∂–æ–±.

```yaml
deploy:
  stage: deploy
  dependencies:
    - build
    - test
```

---

### 6. **When**

–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç, –∫–æ–≥–¥–∞ –¥–∂–æ–± –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.

- **`on_success`** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –¥–∂–æ–±—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å —É—Å–ø–µ—à–Ω–æ.
- **`manual`**: –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫.
- **`always`**: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥—Ä—É–≥–∏—Ö –¥–∂–æ–±–æ–≤.

```yaml
test:
  stage: test
  script:
    - npm test
  when: manual
```

---

### 7. **Only/Except**

–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É—é—Ç, –≤ –∫–∞–∫–∏—Ö –≤–µ—Ç–∫–∞—Ö –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–∂–æ–±.

```yaml
deploy:
  stage: deploy
  script:
    - echo "Deploying..."
  only:
    - main
```

- **`only`**: –î–∂–æ–± –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫.
- **`except`**: –î–∂–æ–± –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤–µ—Ç–æ–∫.

---

### 8. **Artifacts**

–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–∞–π–ª—ã –º–µ–∂–¥—É –¥–∂–æ–±–∞–º–∏.

```yaml
artifacts:
  paths:
    - build/
  expire_in: 1 week
```

---

### 9. **Needs**

–£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –¥–∂–æ–± –¥–æ–ª–∂–µ–Ω —è–≤–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö –¥–∂–æ–±–æ–≤.

```yaml
deploy:
  stage: deploy
  script:
    - echo "Deploying..."
  needs:
    - build-job
```
--- 
### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ:
- **before_script** - –∫–æ–º–∞–Ω–¥—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –ø–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º `script` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–∂–æ–±–∞. 
- **after_script** - –∫–æ–º–∞–Ω–¥—ã, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –ø–æ—Å–ª–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ `script`, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞. 
- **cache** - —Ñ–∞–π–ª—ã –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –∫–µ—à–∏—Ä—É–µ–º—ã–µ –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞. 
- **timeout** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∂–æ–±–∞. 
- **allow_failure** - —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–∞, –µ—Å–ª–∏ –¥–∂–æ–± –ø—Ä–æ–≤–∞–ª–µ–Ω. 
- **include** - –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–π `.gitlab-ci.yml` —Ñ–∞–π–ª. 
- **extends** - –Ω–∞—Å–ª–µ–¥—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –æ—Ç –¥—Ä—É–≥–æ–≥–æ –¥–∂–æ–±–∞. 
- **rules** - –≥–∏–±–∫–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –¥–∂–æ–±–æ–≤. 
- **trigger** - –∑–∞–ø—É—Å–∫–∞–µ—Ç –¥—Ä—É–≥–∏–µ –ø–∞–π–ø–ª–∞–π–Ω—ã. 
- **environment** - –æ–ø–∏—Å—ã–≤–∞–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –¥–µ–ø–ª–æ—è. 
- **parallel** - –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥–∂–æ–±—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ. 
- **coverage** - —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏. 
- **interruptible** - –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–µ—Ä–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∂–æ–±–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –ø–∞–π–ø–ª–∞–π–Ω–∞.
---
**Pipeline status** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞:

- **Pending**: –í –æ–∂–∏–¥–∞–Ω–∏–∏ Runner.
- **Running**: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è.
- **Success**: –ó–∞–≤–µ—Ä—à—ë–Ω —É—Å–ø–µ—à–Ω–æ.
- **Failed**: –ó–∞–≤–µ—Ä—à—ë–Ω —Å –æ—à–∏–±–∫–æ–π.
- **Canceled**: –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—Ä—É—á–Ω—É—é.
- **Skipped**: –ü—Ä–æ–ø—É—â–µ–Ω –∏–∑-–∑–∞ —É—Å–ª–æ–≤–∏–π.
---
